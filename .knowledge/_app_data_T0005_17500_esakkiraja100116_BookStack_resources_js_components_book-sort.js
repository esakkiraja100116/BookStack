{"is_source_file": true, "format": "JavaScript", "description": "This file defines the BookSort component which provides functionality for sorting books and chapters within a user interface using sortable elements.", "external_files": ["sortablejs", "./component", "../services/dom"], "external_methods": [], "published": ["BookSort"], "classes": [{"name": "BookSort", "description": "A class that manages the sorting of books and chapters, allowing for dynamic rearrangement of elements within the UI."}], "methods": [{"name": "setup", "description": "Initial setup of the component, including references to the sort container and input, and initializing sortable functionality."}, {"name": "setupMoveActions", "description": "Sets up event handlers for move action buttons that allow users to rearrange items."}, {"name": "setupSortPresets", "description": "Sets up event handlers for preset sorting option buttons."}, {"name": "bookSelect", "description": "Handles the selection of books from an entity selector and adds them to the sort container."}, {"name": "setupBookSortable", "description": "Sets up a given book container element to have sortable items based on their types."}, {"name": "ensureNoNestedChapters", "description": "Ensures that chapters do not get nested incorrectly by moving them to the parent book."}, {"name": "updateMapInput", "description": "Updates an input field with the current sort data."}, {"name": "buildEntityMap", "description": "Builds a mapping of entities with their ordering and nesting, returning the structure as an array."}, {"name": "addBookChildToMap", "description": "Parses and adds a child element and its sub-items to the provided data-map array."}, {"name": "runSortAction", "description": "Executes the specified sorting action on a given item."}, {"name": "updateMoveActionState", "description": "Updates the state of available move actions for a specific item based on its current position."}, {"name": "updateMoveActionStateForAll", "description": "Updates the state of move actions for all sortable items."}], "calls": ["Sortable.mount", "window.$events.listen", "window.$http.get", "htmlToDom"], "search-terms": ["BookSort", "sortable", "sortOperations", "moveActions"], "state": 2, "ctags": [], "filename": "/app/data/T0005/17500/esakkiraja100116/BookStack/resources/js/components/book-sort.js", "hash": "3b1c05ea9efca94c4af22b6bfcb1a6ef", "format-version": 3, "code-base-name": "b8388bl"}