{"is_source_file": true, "format": "JavaScript", "description": "This file handles drag and paste events for a WYSIWYG editor, specifically for processing pasted images from the clipboard and managing image uploads.", "external_files": ["../services/clipboard"], "external_methods": ["window.$http.post", "window.$http.get", "editor.execCommand", "editor.on", "editor.selection.setRng", "editor.selection.getNode", "editor.dom.getParent", "editor.dom.create", "editor.dom.replace", "editor.dom.remove"], "published": ["listenForDragAndPaste"], "classes": [], "methods": [{"name": "uploadImageFile", "description": "Uploads an image file to the server and returns the response data."}, {"name": "paste", "description": "Handles pasting images from the clipboard into the editor."}, {"name": "dragStart", "description": "Records the state of the editor when a drag event starts, specifically tracking contenteditable blocks."}, {"name": "drop", "description": "Handles the drop event, including template insertion and managing dragged content."}], "calls": ["uploadImageFile(file, pageId)", "editor.selection.getNode()", "editor.selection.setRng(rng)", "editor.execCommand('mceInsertContent', false, resp.data.html)", "window.$http.get(`/templates/${templateId}`)"], "search-terms": ["WYSIWYG editor", "drag and drop", "paste handling", "image upload"], "state": 2, "ctags": [], "filename": "/app/data/T0005/17500/esakkiraja100116/BookStack/resources/js/wysiwyg/drop-paste-handling.js", "hash": "60b303623a6cb918f0294a6b608db3ce", "format-version": 3, "code-base-name": "b8388bl"}